(window.webpackJsonp=window.webpackJsonp||[]).push([[207,116],{1099:function(t,e,n){"use strict";n(868)},1100:function(t,e,n){var r=n(17)((function(i){return i[1]}));r.push([t.i,".font-family[data-v-7b03ed36]{font-family:inherit!important}.profile-image-container[data-v-7b03ed36]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;border-radius:10px;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:1rem;padding-bottom:1rem}.profile-image-container .icon-img[data-v-7b03ed36]{display:grid;height:10rem;width:10rem;cursor:pointer;place-items:center;border-radius:8px;border-width:2px;border-color:rgb(119 181 80 / 0.6);font-size:6em;font-weight:900;--tw-text-opacity:1;color:rgb(98 164 78 / var(--tw-text-opacity));text-shadow:1px 5px 7px #949494}.profile-image-container .text-wrapper[data-v-7b03ed36]{margin-top:0.25rem;display:block;width:100%;text-align:center;font-size:0.8rem;--tw-text-opacity:1;color:rgb(148 148 148 / var(--tw-text-opacity))}.profile-dental-container[data-v-7b03ed36]{border-radius:10px;padding-top:1rem;padding-bottom:1rem}.profile-dental-container h1[data-v-7b03ed36]{border-bottom-width:2px;--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));padding-top:1rem;padding-bottom:1rem;padding-left:1rem;font-size:1.2rem;font-weight:500}.profile-dental-container .input-wrapper[data-v-7b03ed36]{border-bottom-width:2px;--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));padding-top:0.5rem;padding-bottom:0.5rem}.profile-dental-container .input-wrapper input[data-v-7b03ed36]{border-style:none;background-color:transparent;padding-left:0.75rem;padding-right:0.75rem;font-size:16px;width:calc(100% - 40px);outline:none!important}.scanner-container[data-v-7b03ed36]{border-radius:10px;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:1rem;padding-bottom:1rem}.scanner-container b[data-v-7b03ed36]{display:block;text-align:center;font-size:0.8rem}.top-profile-image[data-v-7b03ed36]{position:absolute;margin:0.5rem;margin-top:5%;margin-left:5%;height:90%;width:90%;border-radius:0.5rem;-o-object-fit:cover;object-fit:cover}",""]),r.locals={},t.exports=r},1361:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(21),n(376),n(8),n(50),n(0).default.extend({props:["width"]})),l=n(1),d=Object(l.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t.width,height:t.width,viewBox:"0 0 15 15",fill:"none"}},[e("rect",{attrs:{width:"15",height:"15",fill:"url(#pattern0)"}}),t._v(" "),e("defs",[e("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[e("use",{attrs:{"xlink:href":"#image0_5788_2548",transform:"scale(0.0333333)"}})]),t._v(" "),e("image",{attrs:{id:"image0_5788_2548",width:"30",height:"30","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABXklEQVRIie3WPU7DMBgG4PcrHRAMMMMRmJA4RNWINhITGxwBCZEsqI7E0IY7wMRU1EaAUTdWBlaOgMTKxELzMVSRUpMYN7E79d0S23n8E8cBVllSyMVDQ9k9Y9AlAx9Aehp7D2/O4VD6goFe7tYXU6MVt0ev+XoN23BBtojTyYXsHDiF+14iCIhUHGjcWodD6YtQ+kKHE7BjFc7WlIGeDifwldKR+qjywKjvJSJfJ+uIFbgIzcJEg7g9DnXtK8E61BRfeI1N0JnM37rihUZsijIgYi9Rt1Q12CZqDNtGjWAX6L+wK1QLu0QBzXbitekQRGNdYwKiKqgWHrQe31PGTWnHAKF+Bq3AszT//DlkaNWRGsHX3vCTf9JdEHeyaa8zvaURLyfrwVP3vKgsmBzu5Y+9upl7q0PpHzFwb3K61M3cVDNwDADEHJSN3FaayvU+gBEz3W1sbj+7hFdZWn4BP5mn2nIMSYMAAAAASUVORK5CYII="}})])])}),[],!1,null,"41730533",null).exports,c=n(714),f=n.n(c),h=n(43),v=n(22),m=n(75),w=n(665),x=Object(v.a)(h.a).extend({name:"profile-top-info",props:["userInfo"],data:function(){return{initialInput:!0,initialInput2:!0,showScanner:!1,profilePicsSrc:"",qrCls:"qrcode",qrText:"https://photophobic.web.app",size:170,background:"transparent",phone:"",address:"",isLoading:!1}},components:{Pencil:d,SpinnerDottedIcon:m.default},methods:{getTeamPublicFolder:function(){this.$axios.get()},patchUser:function(){var t=this;""==this.address.trim()&&""==this.phone.trim()||this.isLoading||(this.isLoading=!0,this.$axios.$patch("/users/".concat(this.$auth.user.id),{address:this.address,phone:this.phone}).then((function(){t.$notify.success({message:"Updated successfully"}),t.initialInput=!0,t.initialInput2=!0,t.showUpdateButton=!1,t.isLoading=!1})).catch((function(e){var n=e.response,r=Object(w.ErrorHandler)(n);t.$notify.error({message:r}).finally((function(){t.isLoading=!1}))})))},toggleInput:function(){this.initialInput=!this.initialInput},toggleInput2:function(){this.initialInput2=!this.initialInput2},changeProfileimage:function(){this.isUser&&this.$refs.referenceInput.click()},uploadProfilePicture:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isUser){n.next=2;break}return n.abrupt("return");case 2:if(!((r=t.target).files.length<1||r.files[0].size/1024/1024>2)){n.next=6;break}return e.$notify.error({message:"File size must be less than 2MB"}),n.abrupt("return");case 6:return(o=new FormData).append("upload",r.files[0],"user-profile-picture.jpg"),o.append("type","profilePicture"),o.append("userId",e.user.id),n.next=12,e.$axios.$patch("/files",o).then((function(){e.filterUsers()})).catch((function(){e.$notify.error({message:"Unable to upload profile picture"})}));case 12:case"end":return n.stop()}}),n)})))()}},mounted:function(){var t,e;console.log(">>>>>>>>>>>>???",this.userInfo),this.phone=null===(t=this.userInfo)||void 0===t?void 0:t.phone,this.address=null===(e=this.userInfo)||void 0===e?void 0:e.address,f.a.toCanvas(this.$refs.qrcancas,this.qrCodeurl,(function(){}))},computed:{firstCompanyName:function(){var t;return((null===(t=this.userInfo)||void 0===t?void 0:t.companyName)||"").charAt(0).toUpperCase()},showUpdateButton:function(){return!this.initialInput||!this.initialInput2},qrCodeurl:function(){var t;return"".concat(window.origin,"/public/profile/").concat(null===(t=this.userInfo)||void 0===t?void 0:t.id)},login:function(){return this.$auth.loggedIn},user:function(){var t;return null===(t=this.$auth)||void 0===t?void 0:t.user},isUser:function(){var t,e;return(null===(t=this.user)||void 0===t?void 0:t.id)==(null===(e=this.userInfo)||void 0===e?void 0:e.id)},profilePhoto:function(){var t;return null===(t=this.userInfo)||void 0===t?void 0:t.profilePicture}},watch:{"$auth.user":function(){var t,e;this.address=(null===(t=this.$auth.user)||void 0===t?void 0:t.address)||"",this.phone=(null===(e=this.$auth.user)||void 0===e?void 0:e.phone)||"",f.a.toCanvas(this.$refs.qrcancas,this.qrCodeurl,(function(){}))}}}),y=(n(1099),Object(l.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"flex flex-wrap w-full md:justify-between font-family"},[e("div",{staticClass:"bg-white md:w-3/12 lg:w-[19%] w-full profile-image-container"},[e("div",{staticClass:"icon-img relative",on:{click:t.changeProfileimage}},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"referenceInput",staticClass:"hidden",attrs:{type:"file"},on:{change:t.uploadProfilePicture}}),t._v(" "),null!=t.profilePhoto?e("img",{staticClass:"top-profile-image cursor-pointer",attrs:{src:t.profilePhoto,id:"referenceImg"}}):e("span",[t._v("\n        "+t._s(t.firstCompanyName)+"\n      ")])]),t._v(" "),t.isUser?e("div",{staticClass:"text-wrapper"},[t._v("Click to upload an image")]):t._e()]),t._v(" "),e("div",{staticClass:"bg-white sm:w-12/12 md:w-5/12 lg:w-[60%] w-full profile-dental-container"},[e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],class:[t.initialInput?"text-gray-400":"text-black"],attrs:{type:"text",placeholder:"Company`s address",disabled:t.initialInput},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),t.isUser?e("button",{on:{click:t.toggleInput}},[t.initialInput?e("Pencil",{attrs:{width:18}}):e("span",{staticClass:"text-[15px] font-[900] text-paperdazgreen-500"},[t._v("✕")])],1):t._e()]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],class:[t.initialInput2?"text-gray-400":"text-black"],attrs:{type:"number",placeholder:"Company`s phone number",disabled:t.initialInput2},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),t.isUser?e("button",{on:{click:t.toggleInput2}},[t.initialInput2?e("Pencil",{attrs:{width:18}}):e("span",{staticClass:"text-[15px] font-[900] text-paperdazgreen-500"},[t._v("✕")])],1):t._e()]),t._v(" "),e("div",{staticClass:"w-full grid place-items-center"},[t.showUpdateButton?e("button",{staticClass:"w-[160px] flex justify-center items-center text-white py-2 mt-3 text-center border-none bg-paperdazgreen-400 rounded-md",class:[t.isLoading?"opacity-50":"opacity-100"],attrs:{disabled:t.isloading},on:{click:t.patchUser}},[t._v("\n        Update\n        "),t.isLoading?e("SpinnerDottedIcon",{staticClass:"animate-spin ml-2",attrs:{height:"20",width:"20"}}):t._e()],1):t._e()])]),t._v(" "),e("div",{staticClass:"scanner-container sm:w-12/12 md:w-3/12 lg:w-[18%] w-full flex items-center flex-wrap justify-center"},[e("b",{staticClass:"w-full block"},[t._v("Scan to show all files")]),t._v(" "),e("div",{staticClass:"flex justify-center"},[e("canvas",{ref:"qrcancas",staticClass:"object-contain",attrs:{width:"200",height:"200"}})])])])}),[],!1,null,"7b03ed36",null));e.default=y.exports},665:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorHandler",(function(){return r}));n(79),n(80);function r(t){var e,n,r,o,l,d,c,f,h,v;console.log("error-handler",t);var m=(null===(n=null===(e=t)||void 0===e?void 0:e.data)||void 0===n?void 0:n.errors[0])||(null===(o=null===(r=t)||void 0===r?void 0:r.data)||void 0===o?void 0:o.message);return console.log("error-handler",m),(null===(l=(null==m?void 0:m.message)||m)||void 0===l?void 0:l.includes("email"))?"Email already exists":(null===(d=(null==m?void 0:m.message)||m)||void 0===d?void 0:d.includes("phone"))?"Phone number already exists":(null===(c=(null==m?void 0:m.message)||m)||void 0===c?void 0:c.includes("Invalid login"))?"Email or password is Incorrect":null==m?"Network error":(null===(f=(null==m?void 0:m.message)||m)||void 0===f?void 0:f.includes("subscriptions.userId"))?"You are already a subscribe user":(null===(h=(null==m?void 0:m.message)||m)||void 0===h?void 0:h.includes("Cannot read properties of undefined (reading 'teamMembers')"))?"Team trying to join does not exist":(null===(v=(null==m?void 0:m.message)||m)||void 0===v?void 0:v.includes("Stripe"))?"Error occured, Trying to send card info":void 0}},868:function(t,e,n){var content=n(1100);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("7b77fc74",content,!0,{sourceMap:!1})}}]);