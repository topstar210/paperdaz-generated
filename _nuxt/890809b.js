(window.webpackJsonp=window.webpackJsonp||[]).push([[200,41,109],{632:function(e,t,o){"use strict";o.r(t);var n=o(0).default.extend({name:"ForwardOutlineIcon"}),r=o(1),component=Object(r.a)(n,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("svg",{staticClass:"fill-current",attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{"clip-path":"url(#clip0_3848_18912)"}},[t("path",{attrs:{d:"M15.9373 18H2.06239C0.924629 18 0 17.0752 0 15.9376V5.06263C0 3.92487 0.924629 3.00024 2.06239 3.00024H4.68741C4.99791 3.00024 5.24991 3.25224 5.24991 3.56274C5.24991 3.87324 4.99791 4.12523 4.68741 4.12523H2.06239C1.54563 4.12523 1.12499 4.54587 1.12499 5.06263V15.9376C1.12499 16.4542 1.54563 16.875 2.06239 16.875H15.9373C16.4541 16.875 16.8748 16.4542 16.8748 15.9376V9.56259C16.8748 9.25209 17.1268 9.00009 17.4373 9.00009C17.7478 9.00009 17.9998 9.25209 17.9998 9.56259V15.9376C17.9998 17.0752 17.0751 18 15.9373 18Z"}}),e._v(" "),t("path",{attrs:{d:"M5.06167 11.9904C5.02047 11.9904 4.97914 11.9858 4.93794 11.9753C4.68374 11.9161 4.5 11.6985 4.5 11.4376V10.3126C4.5 6.28068 7.78049 3.0002 11.8124 3.0002H11.9999V0.562633C11.9999 0.333158 12.1394 0.126892 12.3524 0.04065C12.5646 -0.0447679 12.8083 0.00686729 12.9674 0.172622L17.8424 5.23507C18.0523 5.4526 18.0523 5.79757 17.8424 6.01509L12.9674 11.0775C12.8083 11.2433 12.5631 11.2944 12.3524 11.2095C12.1394 11.1233 11.9999 10.917 11.9999 10.6875V8.2501H11.1089C8.74947 8.2501 6.62913 9.56103 5.57473 11.6708C5.47791 11.8658 5.27467 11.9904 5.06167 11.9904ZM11.8124 4.12519C8.6624 4.12519 6.054 6.49135 5.67223 9.54002C7.03562 8.01912 8.99089 7.12511 11.1089 7.12511H12.5624C12.8729 7.12511 13.1249 7.37711 13.1249 7.68761V9.29256L16.6565 5.62508L13.1249 1.95761V3.56269C13.1249 3.87319 12.8729 4.12519 12.5624 4.12519H11.8124Z"}})]),e._v(" "),t("defs",[t("clipPath",{attrs:{id:"clip0_3848_18912"}},[t("rect",{attrs:{width:"18",height:"18",fill:"white"}})])])])}),[],!1,null,null,null);t.default=component.exports},704:function(e,t,o){"use strict";var n=o(5),r=o(387);n({target:"String",proto:!0,forced:o(388)("fontsize")},{fontsize:function(e){return r(this,"font","size",e)}})},707:function(e,t){},708:function(e,t){},709:function(e,t){},710:function(e,t){},711:function(e,t){},712:function(e,t){},713:function(e,t){},714:function(e,t){},715:function(e,t){},716:function(e,t){},717:function(e,t,o){var content=o(737);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("085a2d99",content,!0,{sourceMap:!1})},736:function(e,t,o){"use strict";o(717)},737:function(e,t,o){var n=o(17)((function(i){return i[1]}));n.push([e.i,".color-white[data-v-52016746]{fill:#fff!important}*[data-v-52016746] .el-dialog{width:416px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-52016746] .el-dialog__header{padding-bottom:20px}*[data-v-52016746] .el-dialog__footer,*[data-v-52016746] .el-dialog__header{text-align:left!important}*[data-v-52016746] .el-dialog__body{background:#fcfcfd}*[data-v-52016746] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}.icons-container button[data-v-52016746]{display:inline-flex;height:40px;width:40px;align-items:center;justify-content:center;border-radius:9999px;background-color:rgb(119 195 96 / 0.2)}",""]),n.locals={},e.exports=n},754:function(e,t,o){"use strict";o.r(t);o(34),o(42),o(55),o(56);var n=o(13),r=o(3),l=(o(21),o(8),o(27),o(77),o(24),o(385),o(43),o(41),o(0)),c=o(75),d=o(83),f=o(84),h=o(86),v=o(611),m=o(613),w=o(614),x=o(615),y=o(699);o(700),o(705);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function F(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=l.default.extend({name:"request-modal",components:{SpinnerDottedIcon:c.default,FacebookIcon:d.default,TwitterIcon:f.default,EnvelopeIcon:h.default,PlusIcon:v.default,LinkIcon:m.default,EnvelopeIconShare:w.default,QrcodeIcon:x.default,QrcodeShare:y.default},model:{prop:"visible",event:"updateVisibility"},props:{packagename:{type:String},userFile:{type:Object},visible:{type:Boolean,default:!1}},data:function(){return{showQrcodeFiles:!1,folderTextareaData:"",showModal:!1,loading:!1,twiterLink:"",inputs:[0],generateFileProperty:{},proceedToRequest:!0,generatedFile:{}}},watch:{visible:function(e){this.showModal=e},showModal:function(e){this.$emit("updateVisibility",e)}},mounted:function(){this.showModal=this.visible},methods:{generateAndUploadPdf:function(){},addEmailinputs:function(){var e=!0;Array.from(this.$refs.form.elements).forEach((function(element){"email"!=element.type||element.value.trim()||(e=!1)})),e&&this.inputs.push(this.inputs.length)},showQrcodeFileFuncEmit:function(){this.$emit("qrLoad"),this.$emit("updateVisibility",!1)},closeModal:function(){this.$emit("updateVisibility",!1)},_generatePdf:function(e){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},uploadGeneratedFile:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(Object.keys(t.generateFileProperty).length<1)){o.next=2;break}return o.abrupt("return");case 2:return n={isEditing:!0,downloadLink:e.downloadLink,key:e.key,originalFileId:t.userFile.id,userId:t.$auth.user.id,fileAction:t.userFile.fileAction},o.next=5,t.$axios.$post("/files",F({},n)).then((function(e){console.log(e),t.generatedFile=e})).catch((function(e){t.proceedToRequest=!1}));case 5:case"end":return o.stop()}}),o)})))()},onSubmit:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:null==e||e.preventDefault(),t.loading=!0,n={},r=[],Array.from(e.target.elements).forEach((function(element){"email"==element.type&&r.push(element.value)})),n=F(F({action:"referral_link"},n),{},{link:"".concat(window.location.origin,"/pdf/").concat(t.userFile.paperLink),fileId:t.userFile.id,emails:r,note:t.folderTextareaData}),console.log(t.generatedFile.paperLink,t.userFile.paperLink),t.$axios.$post("/request",n).then((function(e){t.$notify.success({title:"Request",message:"Request sent Successfully"}),t.$emit("updateVisibility",!1),t.$emit("refresh"),t.$nuxt.refresh()})).catch((function(e){t.$notify.error({title:"Request",message:"Request Failed"})})).finally((function(){t.loading=!1}));case 8:case"end":return o.stop()}}),o)})))()}}}),k=(o(736),o(1)),component=Object(k.a)(_,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:e.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(t){e.showModal=t}},scopedSlots:e._u([{key:"title",fn:function(){return[t("h4",{staticClass:"text-center font-semibold text-xl"},[e._v("Request")])]},proxy:!0}])},[t("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[t("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(t){return e.closeModal()}}},[t("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),e._v(" "),e._v(" "),t("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"text-centerfont-medium flex justify-between item mx-auto mb-4 whitespace-none"},[t("p",{staticClass:"w-[87%]"},e._l(e.inputs,(function(input){return t("input",{key:input,staticClass:"py-2 focus:border-paperdazgray-500 px-4 w-full mb-2 rounded-md border-[1px] border-paperdazgray-500",attrs:{required:"",type:"email",placeholder:"E-mail"}})})),0),e._v(" "),t("button",{staticClass:"w-[35px] h-[35px] rounded-full bg-paperdazgray-500 grid place-content-center",on:{click:function(t){return t.preventDefault(),e.addEmailinputs.apply(null,arguments)}}},[t("span",{staticClass:"text-white text-[30px]"},[e._v("+")])])]),e._v(" "),t("p",{staticClass:"text-center block font-medium mx-auto mb-4 whitespace-none"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.folderTextareaData,expression:"folderTextareaData"}],staticClass:"w-full py-2 px-4 focus:border-paperdazgray-500 outline-none rounded-md h-28 resize-none border-[1px] border-paperdazgray-500",attrs:{required:"",placeholder:"Note..."},domProps:{value:e.folderTextareaData},on:{input:function(t){t.target.composing||(e.folderTextareaData=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"flex justify-around"},[t("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[900%] text-white rounded-xl shadow bg-paperdazgreen-400",attrs:{disabled:e.loading}},[t("span",{staticClass:"inline-flex gap-1 items-center text-[16px]"},[e._v("\n         Send\n          "),t("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])])])])}),[],!1,null,"52016746",null);t.default=component.exports},801:function(e,t,o){var content=o(980);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("db1a8a54",content,!0,{sourceMap:!1})},979:function(e,t,o){"use strict";o(801)},980:function(e,t,o){var n=o(17)((function(i){return i[1]}));n.push([e.i,".icon-container[data-v-5ef42850]{display:flex}.icon-container button[data-v-5ef42850]{margin-right:0em;display:flex;width:2rem;justify-content:center;font-size:20px}.arrow-icon[data-v-5ef42850]{--tw-rotate:180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.search-container[data-v-5ef42850]{display:flex;width:66.666667%;align-items:center;justify-content:flex-end;padding-right:0.75rem}.folder-search[data-v-5ef42850]{width:160px;border-radius:0.375rem;border-width:1.3px;--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));padding-top:6px;padding-bottom:6px;padding-left:0.5rem;padding-right:0.5rem;font-size:0.8rem}.heartTopIcon[data-v-5ef42850]{position:absolute;left:7px;top:-0.25rem;display:grid;width:23px;place-items:center;border-radius:20px;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-left:3px;padding-right:3px;padding-top:1.5px;padding-bottom:1.5px;padding-bottom:0;font-size:9px;font-weight:700;line-height:10px}.heart-icon[data-v-5ef42850]{transition:.3s}.scale-out[data-v-5ef42850]{transform:scale(1.4)}",""]),n.locals={},e.exports=n},989:function(e,t,o){"use strict";o.r(t);o(41),o(384),o(123);var n=o(59),r=o(85),l=o(632),c=o(731),d=o(699),f=o(754),h={name:"sharefileoptions",components:{HeartOutlineIcon:n.default,ShareOutlineIcon:r.default,ForwardOutlineIcon:l.default,ShareFilesModal:c.default,QrcodeShare:d.default,RequestModal:f.default},data:function(){return{isHeart:!1,fillHeartColor:"none",showShareCompanyFiles:!1,showQrcodeFiles:!1,favouriteFileId:null,totalShared:null,showRequestModal:!1}},props:{file:{}},computed:{isLoggedIn:function(){var e;return null===(e=this.$auth)||void 0===e?void 0:e.loggedIn},user:function(){var e;return(null===(e=this.$auth)||void 0===e?void 0:e.user)||{}}},methods:{shareInDevice:function(){navigator.share?navigator.share({title:"Paperdaz",url:"".concat(window.location.origin,"/pdf/").concat(this.file.paperLink)}).then((function(){})).catch((function(e){})):console.log("Browser doesn't support this API !")},showRequestModalFunc:function(){this.showRequestModal=!0},getFavouriteFile:function(){var e=this;this.$axios.$get("/favourites/?fileId=".concat(this.file.id,"&userId=").concat(this.user.id)).then((function(t){t.data.length>0&&(e.fillHeartColor="#77C360"),e.favouriteFileId=t.data[0].id})),this.$axios.$get("/favourites/?fileId=".concat(this.file.id)).then((function(t){e.totalShared=Number(t.total)}))},showQrcodeFileFunc:function(){this.showQrcodeFiles=!0,this.showShareCompanyFiles=!1},showShareCompanyFilesFunc:function(){this.$auth.loggedIn?this.showShareCompanyFiles=!0:this.shareInDevice()},animateElement:function(e){e.classList.add("scale-out"),setTimeout((function(){e.classList.remove("scale-out")}),300)},setFileFavourite:function(){var e=this;this.animateElement(this.$refs.heart),"none"==this.fillHeartColor?this.$axios.$post("/favourites",{fileId:this.file.id}).then((function(t){e.fillHeartColor="#77C360",e.favouriteFileId=t.id,e.getFavouriteFile()})):this.$axios.$delete("/favourites/".concat(this.favouriteFileId)).then((function(){e.fillHeartColor="none",e.getFavouriteFile()}))}},mounted:function(){this.getFavouriteFile(),console.log("share user files",this.fileFavourite)}},v=(o(979),o(1)),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-[#9D9D9D] flex items-right justify-end gap-2"},[e.isLoggedIn?t("button",{on:{click:e.showRequestModalFunc}},[t("forward-outline-icon",{attrs:{width:"20",height:"20"}})],1):e._e(),e._v(" "),e.isLoggedIn?t("button",{ref:"heart",staticClass:"mx-1 relative heart-icon mr-0",on:{click:e.setFileFavourite}},[t("heart-outline-icon",{attrs:{fillColor:e.fillHeartColor,width:"22",height:"22"}})],1):e._e(),e._v(" "),t("button",{on:{click:e.showShareCompanyFilesFunc}},[t("share-outline-icon",{attrs:{width:"20",height:"20"}})],1),e._v(" "),t("ShareFilesModal",{attrs:{userFile:e.file},on:{qrLoad:e.showQrcodeFileFunc},model:{value:e.showShareCompanyFiles,callback:function(t){e.showShareCompanyFiles=t},expression:"showShareCompanyFiles"}}),e._v(" "),t("RequestModal",{attrs:{userFile:e.userFile},on:{refresh:e.setRefresh,qrLoad:e.showQrcodeFileFunc},model:{value:e.showRequestModal,callback:function(t){e.showRequestModal=t},expression:"showRequestModal"}}),e._v(" "),t("QrcodeShare",{attrs:{userFile:e.file},model:{value:e.showQrcodeFiles,callback:function(t){e.showQrcodeFiles=t},expression:"showQrcodeFiles"}})],1)}),[],!1,null,"5ef42850",null);t.default=component.exports}}]);