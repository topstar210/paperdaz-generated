(window.webpackJsonp=window.webpackJsonp||[]).push([[151,17],{1345:function(t,e,n){var content=n(1583);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("647e8440",content,!0,{sourceMap:!1})},1582:function(t,e,n){"use strict";n(1345)},1583:function(t,e,n){var o=n(17)((function(i){return i[1]}));o.push([t.i,"*[data-v-d3f61898] .el-dialog{width:416px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-d3f61898] .el-dialog__header{padding-bottom:20px}*[data-v-d3f61898] .el-dialog__footer,*[data-v-d3f61898] .el-dialog__header{text-align:left!important}*[data-v-d3f61898] .el-dialog__body{background:#fcfcfd}*[data-v-d3f61898] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1658:function(t,e,n){"use strict";n.r(e);n(8),n(41),n(123);var o=n(0),l=n(75),r=(n(266),n(609)),d=(n(700),o.default.extend({name:"blockPrivateFile",components:{SpinnerDottedIcon:l.default,CheckedFillIcon:r.default},model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},file:{type:Object}},data:function(){return{showModal:!1,isLoading:!1,loading:!1,newSaveData:{},sendAction:null,refuse:!0}},watch:{visible:function(t){this.showModal=t,this.checkParamsPermission()},refuse:function(){(this.showModal||this.refuse)&&(this.showModal=!0)}},mounted:function(){this.showModal=this.visible,"private"===this.file.filePrivacy&&(sessionStorage.setItem("fileActionWhenSearch",this.file.fileAction),sessionStorage.setItem("companyNameWhenSearch",this.file.user.companyName))},methods:{checkParamsPermission:function(){var t,e,n=this;this.isLoading=!0,this.$axios.get("/permissions/?userId=".concat(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id,"&fileId=").concat(this.file.id)).then((function(t){var data=t.data;data.length<1||1==data[0].isGranted&&(n.refuse=!1,n.showModal=!1)})).catch((function(t){console.log(t)})).finally((function(){n.isLoading=!1}))},closeModal:function(){this.$emit("updateVisibility",!1)},onSubmit:function(){var t=this;this.$auth.loggedIn&&(this.loading=!0,this.$axios.post("/permissions",{action:"request_permission",fileId:this.file.id}).then((function(e){t.$notify.success({title:"Permission",message:"string"==typeof e.data?e.data:"Request sent successful, you will recieve a notification if request granted"}),t.loading=!1,setTimeout((function(){}),2500)})).catch((function(e){t.$notify.error({title:"Permission",message:"Request failed"})})).finally((function(){t.loading=!1})))}}})),c=(n(1582),n(1)),component=Object(c.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:t.showModal,"append-to-body":!1,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h1",{staticClass:"text-center font-semibold text-xl"},[t._v("Alert?")])]},proxy:!0}])},[e("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[e("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(e){return t.closeModal()}}},[e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),t._v(" "),t._v(" "),e("p",{staticClass:"w-[90%] ml-[5%] text-center pb-8 break-normal"},[t._v("These is a private file requires permission to view, Ask for permission to be granted right to view")]),t._v(" "),t.$auth.loggedIn?t._e():e("p",{staticClass:"w-[90%] ml-[5%] text-center pb-8 break-normal font-semibold"},[t._v("Login or register to ask for permission")]),t._v(" "),e("div",{staticClass:"flex justify-around"},[e("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-not-allowed h-10 text-xs w-[150px] max-w-[50%] border border-red-600 rounded-lg shadow bg-white",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return t.closeModal()}}},[t._v("\n      Cancel\n    ")]),t._v("--\x3e\n    "),e("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[150px] max-w-[50%] text-white rounded-lg shadow bg-paperdazgreen-400",attrs:{disabled:t.isLoading},on:{click:t.onSubmit}},[e("span",{staticClass:"inline-flex gap-1 items-center"},[t._v("\n       "+t._s(t.isLoading?"checking permission....":"Ask permission")+"\n        "),e("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)]),t._v(" --\x3e\n    "),t._v(" "),e("nuxt-link",{staticClass:"h-10 bg-paperdazgreen-300 hover:bg-paperdazgreen-70 transition duration-0 hover:duration-150 transition duration-0 hover:duration-150 text-white rounded-lg shadow bg-paperdazgreen-400 px-3 flex items-center justify-center whitespace-nowrap w-[150px] text-xs max-w-[50%]",attrs:{to:"/login"}},[t._v("Log in")])],1)])}),[],!1,null,"d3f61898",null);e.default=component.exports},609:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"CheckFillIcon",props:["width","height"]}),l=n(1),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:"104",viewBox:"0 0 107 104",fill:"none"}},[e("path",{attrs:{d:"M53.5 0C23.9989 0 0 23.326 0 52C0 80.674 23.9989 104 53.5 104C83.0011 104 107 80.674 107 52C107 23.326 83.0011 0 53.5 0Z",fill:"#77C360"}}),t._v(" "),e("path",{attrs:{d:"M78.6775 41.1786L49.3593 68.8395C48.4797 69.6693 47.3251 70.087 46.1705 70.087C45.0159 70.087 43.8614 69.6693 42.9818 68.8395L28.3231 55.009C26.559 53.3454 26.559 50.6555 28.3231 48.9918C30.0863 47.3274 32.9365 47.3274 34.7006 48.9918L46.1705 59.8137L72.3 35.1614C74.0633 33.497 76.9134 33.497 78.6775 35.1614C80.4408 36.825 80.4408 39.5141 78.6775 41.1786Z",fill:"#FAFAFA"}})])}),[],!1,null,null,null);e.default=component.exports},710:function(t,e){},711:function(t,e){},712:function(t,e){},713:function(t,e){},715:function(t,e){},716:function(t,e){},717:function(t,e){},718:function(t,e){},719:function(t,e){},721:function(t,e){}}]);